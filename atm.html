<!DOCTYPE html>
<html lang="tr" >

<head>
  <meta charset="UTF-8">
 <link rel="stylesheet" href="css/atm.css">

<script src="./atm.js" type="text/javascript"> </script>

 <script src="../lib/jquery-3.1.1.min.js"></script>
<script src="../lib/bootstrap.min.js"></script>
<script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
 <audio id="click">
    <source src="sound/click.ogg" type="audio/ogg">
  </audio>
</head>

    <!--Arka plan muzigi-->
    <audio src="./music/matrix.mp3" autoplay controls>
        <p>Ses desteklenmiyor</p>
        </audio>
        <!--Arka plan muzigi bitisi-->

<body >

    
<!--Arka plan matriksi-->
        
    <canvas id="c"></canvas>

    <!--Arka plan matriksi bitisi-->


   


<div class="atm">
    
    <div class="content">
        <div class="button">
            <div class="b-left">
                <div class="b" onclick="tosite(2)"></div>
                <div class="b" onclick="tosite(3)"></div>
                <div class="b" onclick="tosite(4)"></div>
                <div class="b" onclick="tosite(5)"></div>
            </div>
            <div class="b-right">
                <div class="b2" onclick="tosite(6)"></div>
               
                <div class="b2" onclick="ExitATM();"></div>
              
            </div>
        </div>
        <div class="screen">

            <div class="site1 show">
                <div class="header">
                    <div class="title">Neo[Rev 19 - LETTER]'nun Bankası</div>
                    <div class="menus">
                        <div class="bg-box1">Para Yatır</div>
                        <div class="bg-box2">Para Çek</div>
                        <div class="bg-box3">Para Gönder</div>
                        <div class="bg-box4">Bakiye Sorgulama</div>
                        <div class="bg-box5">Hesap Hareketleri</div>
                        
                        <div class="bg-box6">Kart Çıkar</div>
                       
                    </div>
                </div>
            <div class="circle"></div>
            <div class="circle2"></div>
            </div>
           
            <div class="site2 hidden">
                <div class="header">
                    <div class="title">Neo'nun bankası</div>
                    <div class="sub-title">
                       Para Yatır
                    </div>
                    <input class="input" name="depozito" type="number" placeholder="Miktar">
                </div>
            <div class="back">Geri</div>
            <div class="circle"></div>
            <div class="circle2"></div>

            <div class="helper">
                <div class="button">
            <div class="b-left">
                <div class="b" onclick="tosite(2)"></div>
                <div class="b"></div>
                <div class="b"></div>
                <div class="b"></div>
            </div>
            <div class="b-right">
                <div class="b2"></div>
                <div class="b2"></div>
                <div class="b2"></div>
                <div class="b2"></div>
            </div>
        </div>
            </div>

            </div>

            <div class="site3 hidden">
                    <div class="header">
                        <div class="title">Neo'nun Bankası</div>
                        <div class="sub-title">
                           PARA ÇEKME EKRANI
                        </div>
                        <input name="paracek" class="input"  type="number" placeholder="Miktar">
                    </div>
                <div class="back2">Geri</div>
                <div class="circle"></div>
                <div class="circle2"></div>
                <div class="helper">
                        <div class="button">
                    <div class="b-left">
                        <div class="b"></div>
                        <div class="b"  onclick="tosite(3)"></div>
                        <div class="b"></div>
                        <div class="b"></div>
                    </div>
                    <div class="b-right">
                        <div class="b2"></div>
                        <div class="b2"></div>
                        <div class="b2"></div>
                        <div class="b2"></div>
                    </div>
                </div>
                    </div>
            </div>

            <div class="site4 hidden">
                    <div class="header">
                        <div class="title">Neo'nun Bankası</div>
                        <div class="sub-title">
                            Para gönder
                        </div>
                        <input class="input" name="hesap_no" type="number" placeholder="Hesap numarası" style="margin-bottom:1vw;">
                        <input class="input" name="miktar" type="number" placeholder="Miktar">
                    </div>
                <div class="back3">Geri</div>
                <div class="circle"></div>
                <div class="circle2"></div>
                <div class="helper">
                        <div class="button">
                    <div class="b-left">
                        <div class="b"></div>
                        <div class="b"></div>
                        <div class="b" onclick="tosite(4)"></div>
                        <div class="b"></div>
                    </div>
                    <div class="b-right">
                        <div class="b2"></div>
                        <div class="b2"></div>
                        <div class="b2"></div>
                        <div class="b2"></div>
                    </div>
                </div>
                    </div>
            </div>

            <div class="site5 hidden">
                    <div class="header">
                        <div class="title">Neo'nun Bankası</div>
                        <div class="sub-title">
                            Bakiyeniz:
                        </div>
                        <div class="input2">Bakiyeniz : 
                            <span id="bakiye" class="kstand"></span>₺
                        </div>
                        
                    </div>
                <div class="back4">Geri</div>
                <div class="circle"></div>
                <div class="circle2"></div>
                <div class="helper">
                        <div class="button">
                    <div class="b-left">
                        <div class="b"></div>
                        <div class="b"></div>
                        <div class="b"></div>
                        <div class="b" onclick="tosite(5)"></div>
                    </div>
                    <div class="b-right">
                        <div class="b2"></div>
                        <div class="b2"></div>
                        <div class="b2"></div>
                        <div class="b2"></div>
                    </div>
                </div>
                    </div>
            </div>

            <div class="site6 hidden">
                    <div class="header">
                        <div class="title">Neo'nun Bankası</div>
                        <div class="sub-title">
                            Hesap geçmişi
                        </div>
                        <!--Hesapdaki geçmiş işlemleri görüntüle-->
                        <div class="input3">Geçmiş İşlemleriniz : <br>
                                <span id="islemler" class="kinfo"></span>
                            </div>
                    </div>
                <div class="back5">Geri</div>
                <div class="circle"></div>
                <div class="circle2"></div>
                <div class="helper">
                        <div class="button">
                    <div class="b-left">
                        <div class="b"></div>
                        <div class="b"></div>
                        <div class="b"></div>
                        <div class="b"></div>
                    </div>
                    <div class="b-right">
                        <div class="b2" onclick="tosite(6)"></div>
                        <div class="b2"></div>
                        <div class="b2"></div>
                        <div class="b2"></div>
                    </div>
                </div>
                    </div>
            </div>

            <div class="site7 hidden">
                <div class="header">
                    <div class="title">Neo'nun Bankası</div>
                  
                </div>
                <div class="back6">Geri</div>
                <div class="circle"></div>
                <div class="circle2"></div>
                <div class="helper">
                        <div class="button">
                    <div class="b-left">
                        <div class="b"></div>
                        <div class="b"></div>
                        <div class="b"></div>
                        <div class="b"></div>
                    </div>
                    <div class="b-right">
                        <div class="b2"></div>
                        <div class="b2" onclick="tosite(7)"></div>
                        <div class="b2"></div>
                        <div class="b2"></div>
                    </div>
                </div>
                    </div>
            </div>

            <div class="site8 hidden">
                    <div class="header">
                        <div class="title">Neo'nun Bankası</div>
                        <div class="sub-title">
                            Para Yatırma
                        </div>
                        <input class="input" type="number" placeholder="Miktar">
                    </div>
                <div class="back7">Geri</div>
                <div class="circle"></div>
                <div class="circle2"></div>
                <div class="helper">
                        <div class="button">
                    <div class="b-left">
                        <div class="b"></div>
                        <div class="b"></div>
                        <div class="b"></div>
                        <div class="b"></div>
                    </div>
                    <div class="b-right">
                        <div class="b2"></div>
                        <div class="b2"></div>
                        <div class="b2" onclick="tosite(8)"></div>
                        <div class="b2" ></div>
                    </div>
                </div>
                    </div>
            </div>

        </div>
    </div>
    <div class="hidden" style="display:none"></div>
    <div class="numpad">
        <div class="randombox"></div>
        <div class="bz1">
            <div class="b3" onclick="addToCurrentInput(1);">1</div>
            <div class="b3" onclick="addToCurrentInput(4);">4</div>
            <div class="b3" onclick="addToCurrentInput(7);">7</div></div>
        <div class="bz2">
            <div class="b3" onclick="addToCurrentInput(2);">2</div>
            <div class="b3" onclick="addToCurrentInput(5);">5</div>
            <div class="b3" onclick="addToCurrentInput(8);">8</div>
            <div class="b3" onclick="addToCurrentInput(0);">0</div></div>
        <div class="bz3">
            <div class="b3" onclick="addToCurrentInput(3);">3</div>
            <div class="b3" onclick="addToCurrentInput(6);">6</div>
            <div class="b3" onclick="addToCurrentInput(9);">9</div></div>
        <div class="bz5">
            <div class="b3e" onclick="cancel();">TEMİZLE</div>
            <div class="b4e" onclick="submit();">ONAY</div></div>
        <div class="bz4">
            <div class="b4"></div>
        <div class="bz6">
            <div class="b7"></div>
        </div>
    </div>

</div>


<!-- Footer -->
<div id="invisible" style="display:none"></div>

<script type="text/javascript">




    var currentSite;

    function tosite(site) {
        if($('.hidden').is(":hidden")) {
            $('.site1').toggleClass("hidden");
		    $('.site' + site).toggleClass("hidden");
            $('.site' + site).toggleClass("show");
            currentSite = site;
            console.log("Bulundugunuz ekran no:",currentSite);
            document.getElementsByClassName('input')[0].value = null;
            document.getElementsByClassName('input')[1].value = null;
            playClick();
        }

        
            switch(site)

            {

                //eger bakiye sorgulama ekranına gidiliyorsa bakiyeyi getir
                case 5:
                document.getElementById("bakiye").innerHTML=hesaplar[19];
                break;

                //logları getir - hesap hareketleri
                case 6:

                document.getElementById("islemler").innerHTML=logs.toString();
               

                break;


            }


    }

    function playClick() {
        var audio = document.getElementById("click");
        audio.play();
    }




 
  

    function submit()
    {
        let yonlendir=false;
        switch(currentSite) 
        {
           
            //para yatir ekranı ise
            case 2:

                paraYatir(19,getCurrentInputValue());
              yonlendir= confirm("İşlem başarılı anasayfaya git!")
               
               // okay 'e basılırsa ana sayfaya yonlendir
                

                if(yonlendir){
                    tosite(2)
                    return;
                }
                
                break;
                
                
                
            
        // para cek ekranı ise
                case 3: 

                //bakiye - ye düsmesini engelle
                
                if(hesaplar[19]-getCurrentInputValue()>=0)

                {
          paraCek(19,getCurrentInputValue())

          
           alert("İşlem başarılı geri tuşunu kullanarak ana menüye dönüp bakiyenizi kontrol edebilirsiniz.")
               
               // okay 'e basılırsa ana sayfaya yonlendir
                }
                else {

                    alert("Hesabınızda yeterli bakiye yoktur!")
                }

             
                
                break

        
        case 4:
            let degerlerArray = getCurrentInputValue() || [0,0];
            let [hesapNo,miktar]=degerlerArray
            //hesaba para gonder

             if(miktar > hesaplar[hesapNo]){
                 alert("Bakiyeniz yetersiz!")
             }
             else{

                hesabaParaGonder(hesapNo,hesapNo,miktar)
             }

            
        }
    
    }


    //temizle buttonu
    function    cancel() {

        //ekran durumuna göre input verilerini temizle
        switch(currentSite)
        {

            //2 numaralı ekran-(para yatır)ekranı  ise asagidaki case calisacak 
            case 2:
            
        
            document.getElementsByName('depozito')[0].value = null;
            break;

            //3 numaralı ekran-(para çek)ekranı  ise asagidaki case calisacak
            case 3:
            
        
            document.getElementsByName('paracek')[0].value = null;
            break;


            case 4:
                ////4 numaralı ekran-(para gönder)ekranı  ise asagidaki case calisacak
                document.getElementsByName('hesap_no')[0].value = null;
                document.getElementsByName('miktar')[0].value = null;
                break;
  
        }

    }

    function getCurrentInputValue() {
        if (currentSite == 2) {
            return document.getElementsByName('depozito')[0].value;
        }
        else if (currentSite == 3) {
            return document.getElementsByName('paracek')[0].value;
        }
        else if (currentSite == 4) {
            var hesap_no = document.getElementsByName('hesap_no')[0].value;
            var miktar = document.getElementsByName('miktar')[0].value;
            if (miktar != undefined && miktar != null && miktar != "" && hesap_no != "" && hesap_no != undefined && hesap_no != null) {
                var array = [hesap_no, miktar];
                return array;
            }
        }
    }


    function addToCurrentInput(number) {
        if (currentSite == 2) {
            document.getElementsByName('depozito')[0].value = document.getElementsByName('depozito')[0].value + '' + number;
        }
        else if (currentSite == 3) {
            document.getElementsByName('odeme')[0].value = document.getElementsByName('odeme')[0].value + '' + number;
        }
    }

    function ExitATM() {
        playClick();
       alert("Kartınızı almayı unutmayınız!")
    }

    function yeniOzellik(){
        playClick();
        alert("Yeni ozellik ekleniyor...")
    }

   

</script>
<script type="text/javascript" src="./matrixEffect.js"> </script>
</body>
</html>
